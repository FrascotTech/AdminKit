<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSONtoCSV</title>
</head>
<body>
    <span>JSON data paste.</span>
    <textarea id="Input" oninput="Parse()"></textarea>
    <p id="Output" style="width: 100%; word-break:break-all;"></p>
    <script>
        function Parse(){
            let Result = [];

            const JsonParse = JSON.parse(document.getElementById("Input").value);
            const ServiceKey = Object.keys(JsonParse.Services);
            console.log(ServiceKey);

            console.log(ServiceKey.length);

            while (true){
                Result.push(JsonParse.Services[ServiceKey[0]].Domains);
                ServiceKey.shift();

                if (ServiceKey.length == 0){
                    break;
                }
                else {
                    ;
                }
            }
            
            Result = Result.flatMap(num => num).sort();
            Result = Array.from(new Set(Result));
            document.getElementById("Output").textContent = Result;
        }
    </script>
</body>
</html>